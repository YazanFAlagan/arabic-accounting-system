# نظام المحاسبة والمخزون - Arabic Accounting System

نظام شامل لإدارة المحاسبة والمخزون والمبيعات والمشتريات مع واجهة عربية سهلة الاستخدام.

## المميزات الرئيسية 🚀

### 📊 لوحة التحكم
- عرض شامل للإحصائيات المالية
- توزيع الأرباح بين الشركاء
- رسوم بيانية تفاعلية
- تنبيهات المخزون المنخفض

### 💰 إدارة الديون والذمم المدينة (جديد!)
- تتبع الأموال المستحقة عليك وعليهم
- إدارة الأشخاص والجهات (أفراد، شركات، موردين، عملاء)
- تسجيل المدفوعات والمقبوضات
- تحديث الرصيد تلقائياً
- نظام تذكيرات وتواريخ استحقاق
- تصنيف الديون حسب الأولوية والفئة

### 🛒 نظام المبيعات
- إدارة الفواتير
- تتبع المبيعات
- إدارة العملاء
- تقارير المبيعات

### 🛍️ نظام المشتريات
- إدارة المشتريات
- تتبع المصروفات
- إدارة الموردين
- تصنيف المصروفات

### 📦 إدارة المخزون
- إدارة المنتجات
- تتبع الكميات
- تنبيهات المخزون المنخفض
- إدارة المواد الخام

### 📈 التقارير
- تقارير الأرباح والخسائر
- تقارير المبيعات
- تقارير المخزون
- تحليلات مالية

## التقنيات المستخدمة 🛠️

- **Frontend**: Next.js 14, React, TypeScript
- **Backend**: Supabase (PostgreSQL)
- **Styling**: Tailwind CSS
- **Charts**: Recharts
- **Icons**: Lucide React
- **Authentication**: Supabase Auth

## التثبيت والإعداد 📋

### المتطلبات
- Node.js 18+
- حساب Supabase

### الخطوات

1. **استنساخ المشروع**
```bash
git clone <repository-url>
cd arabic-accounting-system
```

2. **تثبيت التبعيات**
```bash
npm install
```

3. **إعداد البيئة**
```bash
cp env.example .env.local
```

4. **تحديث متغيرات البيئة**
```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

5. **إعداد قاعدة البيانات**
- انتقل إلى Supabase Dashboard
- افتح SQL Editor
- شغل ملف `database/complete_database_fix.sql`

6. **تشغيل التطبيق**
```bash
npm run dev
```

## هيكل قاعدة البيانات 🗄️

### الجداول الرئيسية
- `products` - المنتجات
- `purchases` - المشتريات والمصروفات
- `raw_materials` - المواد الخام
- `cash_flow` - التدفق النقدي
- `invoices` - الفواتير
- `debt_entities` - الأشخاص والجهات (جديد)
- `debts` - الديون (جديد)
- `debt_transactions` - معاملات الديون (جديد)

### نظام إدارة الديون
```sql
-- إنشاء الجداول
CREATE TABLE debt_entities (...)
CREATE TABLE debts (...)
CREATE TABLE debt_transactions (...)

-- إنشاء Views
CREATE VIEW debt_summary AS ...
CREATE VIEW debt_balance_summary AS ...
CREATE VIEW debt_transactions_summary AS ...
```

## كيفية الاستخدام 📖

### إدارة الديون
1. **إضافة شخص/جهة جديدة**
   - انتقل إلى `/debts`
   - اضغط "إضافة شخص/جهة"
   - املأ البيانات المطلوبة

2. **إضافة دين جديد**
   - اختر الشخص/الجهة
   - حدد نوع الدين (أموال عليك/عليهم)
   - املأ المبلغ والتفاصيل

3. **تسجيل معاملات**
   - سجل المدفوعات والمقبوضات
   - سيتم تحديث الرصيد تلقائياً

### المبيعات
- إنشاء فواتير جديدة
- تتبع المبيعات
- إدارة العملاء

### المشتريات
- تسجيل المشتريات
- تتبع المصروفات
- إدارة الموردين

## الأمان 🔒

- **Row Level Security (RLS)** مفعل على جميع الجداول
- كل مستخدم يرى فقط بياناته
- نظام مصادقة آمن
- صلاحيات محددة لكل مستخدم

## النشر 🌐

### Netlify
- ربط مع GitHub
- نشر تلقائي عند التحديث
- إعداد متغيرات البيئة

### Vercel
- ربط مع GitHub
- نشر تلقائي
- دعم Next.js كامل

## المساهمة 🤝

1. Fork المشروع
2. إنشاء branch جديد
3. إجراء التغييرات
4. إنشاء Pull Request

## الدعم 💬

إذا واجهت أي مشاكل:
1. تحقق من console المتصفح
2. تأكد من إعداد قاعدة البيانات
3. تحقق من متغيرات البيئة
4. راجع ملفات README الخاصة بكل نظام

## التطوير المستقبلي 🚀

- [ ] نظام تذكيرات تلقائي للديون
- [ ] تقارير متقدمة وتحليلات
- [ ] تصدير البيانات
- [ ] إشعارات في الوقت الفعلي
- [ ] دعم العملات المتعددة
- [ ] نظام دفع متكامل
- [ ] تطبيق موبايل

## الترخيص 📄

هذا المشروع مرخص تحت رخصة MIT.

---

**ملاحظة**: تأكد من اختبار النظام على بيانات تجريبية قبل استخدامه في الإنتاج.
